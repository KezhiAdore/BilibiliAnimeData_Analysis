# B站番剧数据分析

 对B站番剧播放数据和tags进行APriori频繁项集挖掘

## 1. 数据收集

使用python中的scrapy包构建爬虫 ，爬取了目前B站上所有番剧的：

- 番剧名
- 标签
- 播放量
- 追番数量
- 弹幕数量

收集的数据放在`/数据爬取/anime_data/data.csv`中

> 爬虫使用说明：
>
> 1. scrapy 安装 `pip install scrapy`(linux:`pip3 install scrapy`)
> 2. 命令行`cd`到`/数据挖掘/anime_data`目录下
> 3. 执行命令：`scrapy crawl anime_data -o data.csv`

## 2. 关联规则

每个番剧都有一定数量的`tag`来大致描述其内容，用来描述同一部番剧的`tag`通常是处于不同维度的描述，以《小林家的龙女仆》为例，其`tag`为`[萌系 搞笑 日常 漫画改]`，四个`tag`分别描述了该动画的四个不同的特征。通过对B站上所有的番剧`tag`数据进行分析，找出其中相关度最高的`tag`组合。

## 3. 算法流程

数据集：所有番剧的`tag`数据集，每一条数据为一部番剧的`tag`

Aprior算法的流程如下：

1. 构造1项集->统计1项集出现频数->计算支持度和置信度->剪枝->频繁1项集
2. 通过k-1项集构造k项集->统计k项集出现频数->计算支持度和置信度->剪枝->频繁k项集

3. 重复第2步直到没有项集符合强规则